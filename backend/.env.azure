# Azure Production Environment Configuration
# Optimized for App Service F1 + PostgreSQL Flexible Server

# Application Configuration
APP_NAME="Pactoria Contract Management"
APP_VERSION="0.1.0-mvp"
DEBUG=false
ENVIRONMENT="production"

# API Configuration
API_V1_PREFIX="/api/v1"

# Azure App Service Configuration
PORT=8000
BIND_HOST="0.0.0.0"
ENABLE_KEEPALIVE=true
KEEPALIVE_INTERVAL=240
GUNICORN_WORKERS=1
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120

# Database Configuration (Azure PostgreSQL Flexible Server)
# Format: postgresql://username:password@hostname:port/database?sslmode=require
DATABASE_URL="${AZURE_POSTGRESQL_CONNECTION_STRING}"
AZURE_POSTGRESQL_HOST="${AZURE_POSTGRESQL_HOST}"
AZURE_POSTGRESQL_DATABASE="${AZURE_POSTGRESQL_DATABASE}"
AZURE_POSTGRESQL_USER="${AZURE_POSTGRESQL_USER}"
AZURE_POSTGRESQL_PASSWORD="${AZURE_POSTGRESQL_PASSWORD}"

# Security Configuration
SECRET_KEY="${JWT_SECRET_KEY}"
JWT_ALGORITHM="HS256"
JWT_EXPIRATION_HOURS=24

# AI/Groq Configuration
GROQ_API_KEY="${GROQ_API_KEY}"
GROQ_MODEL="llama-3.1-8b-instant"

# CORS Configuration (will be set dynamically by startup.py)
CORS_ORIGINS="https://*.azurestaticapps.net,https://*.azure.com"

# File Upload Configuration
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=".pdf,.docx,.txt"
UPLOAD_DIR="/tmp/uploads"

# Azure Storage Configuration (for file persistence)
AZURE_STORAGE_ACCOUNT_NAME="${AZURE_STORAGE_ACCOUNT_NAME}"
AZURE_STORAGE_ACCOUNT_KEY="${AZURE_STORAGE_ACCOUNT_KEY}"
AZURE_STORAGE_CONTAINER_NAME="pactoria-uploads"

# Contract Settings (MVP Requirements)
MAX_USERS_PER_ACCOUNT=5
CONTRACT_HISTORY_MONTHS=3

# UK Legal Templates Configuration
TEMPLATE_CATEGORIES="service_agreements,employment_contracts,supplier_agreements,ndas,terms_conditions"

# Compliance Configuration
MIN_COMPLIANCE_SCORE=0.95

# Logging Configuration
LOG_LEVEL="INFO"
ENABLE_REQUEST_LOGGING=true

# Performance Optimization
ENABLE_COMPRESSION=true
ENABLE_CACHING=false  # Disabled for F1 tier to save memory

# Monitoring Configuration
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=60

# Rate Limiting (basic protection)
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# Feature Flags for F1 tier optimization
ENABLE_DETAILED_LOGGING=false
ENABLE_METRICS_COLLECTION=false
ENABLE_REDIS_CACHING=false